#! /usr/bin/python
'''
 *  $Id: JobOpt_DmpSimulation, 2014-03-08 12:40:34 chi $
 *  Author(s):
 *    Chi WANG (chiwang@mail.ustc.edu.cn) 07/03/2014
 *-----------------------------------------------------
 *  This is an example how to run simulation of DAMPE
 *-----------------------------------------------------
'''

# add the path of DAMPE lib to python
import os
import sys
if os.environ['DMPSWSYS'] not in sys.path:
    sys.path.append(os.getenv('DMPSWSYS')+'/lib')

# set output file path. 
import libDmpCore as DmpCore
DmpCore.DataManager.SetOutDataPath("./test")    # Use "./" as default path if NOT set at here

# RUN simulation
import libDmpSimulation as DmpSimulation

DmpSimulation.Initialize()
#DmpSimulation.Execute("default")   # visual mode
DmpSimulation.Execute("electron.mac")
DmpCore.DataManager.SetOutDataName("electron.root") # set the name of outdata (*.root) for the next Execute(). If not set, then will use the defaulted
DmpSimulation.Execute("electron.mac")
DmpSimulation.Execute("proton.mac")  # keep detector and all user action, and run next macro file
DmpSimulation.Clear()

