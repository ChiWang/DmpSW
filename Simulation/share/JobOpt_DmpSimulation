#! /usr/bin/python
'''
 *  $Id: JobOpt_DmpSimulation, 2014-03-08 23:35:49 chi $
 *  Author(s):
 *    Chi WANG (chiwang@mail.ustc.edu.cn) 07/03/2014
 *-----------------------------------------------------
 *  This is an example how to run simulation of DAMPE
 *-----------------------------------------------------
'''

# load lib. of DAMPE software
import os
import sys
if os.environ['DMPSWSYS'] not in sys.path:
    sys.path.append(os.getenv('DMPSWSYS')+'/lib')

import libDmpCore as DmpCore
import libDmpSimulation as DmpSimulation

# set output file path. 
DmpCore.PhaseManager.SetPhase(DmpCore.DmpEPhase.kQuarter)  # default is kProduct, if NOT set

# RUN simulation
DmpSimulation.Initialize()
DmpSimulation.SetInDataPath(os.getenv('DMPSWSYS')+"/share/Simulation")      # where to find the macro file which is a argument of Execute(). If NOT set will use "./"
DmpSimulation.SetOutDataPath("./test")          # where to save output. If NOT set at here will use "./"
#DmpSimulation.Execute("visual")                # open visual mode. If you want to use batch mode without visualization, input a macro file name
DmpSimulation.SetOutDataName("electron.root")   # set output data name(*.root) for the next Execute(). If NOT set will use the default name(time stamp)
DmpSimulation.Execute("DmpSim_electron.mac")
DmpSimulation.Execute("DmpSim_proton.mac")      # start a new run, without delete physics list, detector construction and all user actions.
DmpSimulation.Clear()

