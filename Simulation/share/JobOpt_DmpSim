#! /usr/bin/python
'''
 *  $Id: JobOpt_DmpSim, 2014-05-27 17:09:16 DAMPE $
 *  Author(s):
 *    Chi WANG (chiwang@mail.ustc.edu.cn) 07/03/2014
 *-----------------------------------------------------
 *      Example of how to run simulation of DAMPE
 *-----------------------------------------------------
'''

#-------------------------------------------------------------------
import DMPSW                    # Load DAMPE software
import libDmpSim as  DmpSim     # Load your lib.

#-------------------------------------------------------------------
# Global setting
DMPSW.Core.SetMaxEventNumber(10)
DMPSW.Core.SetLogLevel(1111)      # If NOT set, will use 1100
'''
  /*
   * LogLevel
   *     types: {error(1000) | warning(100) | information(10) | debug(1)}
   */
'''

#-------------------------------------------------------------------
# IOSvc options
DMPSW.IOSvc.Set("OutData/Path","./test")    # where to save the output. If NOT set will use "./" by defualt
DMPSW.IOSvc.Set("OutData/Tag","Sim")    # append note for the next output data. NOT set is okay. Also could use Set("OutDataPath")

#-------------------------------------------------------------------
# Creat user's service or algorithm
simRunMgr = DmpSim.DmpSimAlgRunManager()
#simRunMgr.Set("Physics","QGSP_BERT")  # If NOT set, will use QGSP_BIC. argv = {QGSP_BERT,QGSP_BERT_HP, and so on}
simRunMgr.Set("Gdml",DMPSW.prefix+"/share/Geometry/EQM/")     # must set the path
simRunMgr.Set("MacFile",DMPSW.prefix+"/share/TestRelease/Ex_electron.mac") # if NOT set, will invoke vis. mode
#-------------------------------------------------------------------
# Append user's service or algorithm into Kernel
DMPSW.AlgMgr.Append(simRunMgr)

#-------------------------------------------------------------------
# Run job
DMPSW.Core.Initialise()
DMPSW.Core.Run()
DMPSW.Core.Finalize()


